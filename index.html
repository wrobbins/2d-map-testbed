<!DOCTYPE html>
<html>
<head>
<title>World Map</title>
<script
  src="https://code.jquery.com/jquery-3.2.0.slim.min.js"
  integrity="sha256-qLAv0kBAihcHZLI3fv3WITKeRsUX27hd6upBBa0MSow="
  crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="node_modules/datamaps/dist/datamaps.world.min.js"></script>
<script>

	//http://paletton.com/#uid=1000u0k00pB00Tp00vE01ka0oet
	var map;
	function loaded(){

		var container = $('#container')[0];
	    map = new Datamap({
				element: container ,
				responsive: true,
				geographyConfig: {
			        popupOnHover: true,
			        highlightOnHover: true,
					highlightFillColor: '#737272',
					highlightBorderColor: '#000000',
				    popupTemplate: function(geo, data) {
				                   return ['<div>' + geo + '</div>'].join('');
				               }
			    },
				fills:{
					defaultFill: '#A1A1A1'					
				}
			});
		
		 // Alternatively with d3
		    d3.select(window).on('resize', function() {
		        map.resize();
		    });
			
			$('input[name=mapColor]').val(map.options.fills.defaultFill);
			$('input[name=highlightColor]').val(map.options.geographyConfig.highlightFillColor);
			$('input[name=highlightBorderColor]').val(map.options.geographyConfig.highlightBorderColor);
	}
	
	function applyMapColors(){
		map.updateChoropleth(null,{reset: true});
	}
	
	function changeMapColor(input){
		var newColor = input.value;
		map.options.fills.defaultFill = newColor;
		applyMapColors();

	}
	
	function changehighlightColor(input){
		var newColor = input.value;
		map.options.geographyConfig.highlightFillColor = newColor;
		applyMapColors();
	}
	
	function changehighlightOutlineColor(input){
		var newColor = input.value;
		map.options.geographyConfig.highlightBorderColor = newColor;
		applyMapColors();
	}
	
	</script>
<style>
#container{
	margin-top: 25px;
}
.colorPicker{
	display: inline-block;
	margin-right: 20px;
}

</style>
	
</head>

<body onload="loaded()">
	<div class="choices">
		<div class="colorPicker">
			<label for="mapColor">Map</label>
			<input type=color name="mapColor" onchange="changeMapColor(this)"></input>			
		</div>
		<div class="colorPicker">
			<label for="highlightColor">Hover</label>
			<input type=color name="highlightColor" onchange="changehighlightColor(this)"></input>			
		</div>
		<div class="colorPicker">
			<label for="highlightBorderColor">Hover Outline</label>
			<input type=color name="highlightBorderColor" onchange="changehighlightOutlineColor(this)"></input>			
		</div>
	</div>
	<div id="container" style="border:1px dotted blue; position: relative;"></div>
</body>

</html>

